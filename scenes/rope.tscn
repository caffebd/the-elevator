[gd_scene load_steps=15 format=4 uid="uid://dim2evhnbmhlj"]

[ext_resource type="Script" path="res://scripts/rope.gd" id="1_sspj5"]
[ext_resource type="Script" path="res://scripts/card_part.gd" id="2_7uen0"]
[ext_resource type="PackedScene" uid="uid://c1o81vvnyk5lb" path="res://assets/chain_link.tscn" id="2_vmag6"]
[ext_resource type="Texture2D" uid="uid://bpobeohxaigf3" path="res://assets/textures/keycard.jpg" id="4_uh8r8"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_hdfu2"]
radius = 0.035
height = 0.135

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_72k34"]

[sub_resource type="CapsuleMesh" id="CapsuleMesh_pa4bi"]
material = SubResource("StandardMaterial3D_72k34")

[sub_resource type="BoxShape3D" id="BoxShape3D_x8cb2"]
size = Vector3(0.125, 0.23, 0.1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_yut8j"]

[sub_resource type="BoxMesh" id="BoxMesh_75j3m"]
material = SubResource("StandardMaterial3D_yut8j")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_37krb"]

[sub_resource type="ArrayMesh" id="ArrayMesh_ewt2n"]
_surfaces = [{
"aabb": AABB(-0.22366, -0.00673184, -0.140586, 0.44732, 0.0015532, 0.281173),
"format": 34359742465,
"index_count": 132,
"index_data": PackedByteArray("AQATAA8AAQADABMAEwARAA8AEQAMABAADAANAA4ADQAXABUAFwASABYAEgATABQAEwAMABEADAAXAA0AFwATABIADAATABcABAAWABIABAAJABYACgANABUACgAGAA0ABwACAAAAAgADAAEAAwAEAAUABAALAAkACwAGAAoABgAHAAgABwADAAIAAwALAAQACwAHAAYAAwAHAAsABgAOAA0ABgAIAA4ACAAMAA4ACAAHAAwAFQALAAoAFQAXAAsAFwAJAAsAFwAWAAkAAwAUABMAAwAFABQABQASABQABQAEABIADwACAAEADwARAAIAEQAAAAIAEQAQAAAABwAQAAwABwAAABAA"),
"lods": [0.00207421, PackedByteArray("AQATAA8AAQADABMAAwAEABMADwAAAAEADwAQAAAABwAAABAABwAQAA0ABAAWABMABAAJABYAFQAWAAkAFQAJAAoACgANABUACgAGAA0ABgAHAA0ADwANABAAEwANAA8ADQATABUAFQATABYAAAADAAEABwADAAAAAwAHAAkAAwAJAAQACQAHAAYACQAGAAoA"), 0.0121119, PackedByteArray("AwASAA8AAwAJABIADwAAAAMAFQASAAkADwAMAAAAFQAJAAYABgAAAAwABgAMABUAEgAMAA8ADAASABUABgADAAAAAwAGAAkA")],
"primitive": 3,
"uv_scale": Vector4(0, 0, 0, 0),
"vertex_count": 24,
"vertex_data": PackedByteArray("JwdlvnYFqruURwk+3VhevnYFqrve9Q8+OBJjvnYFqrvvAA4+3VhePnYFqrve9Q8+JwdlPnYFqruURwk+OBJjPnYFqrvvAA4+3VhevnYFqrve9Q++JwdlvnYFqruURwm+OBJjvnYFqrvvAA6+JwdlPnYFqruURwm+3VhePnYFqrve9Q++OBJjPnYFqrvvAA6+JwdlvruW3LuURwm+3VhevruW3Lve9Q++OBJjvruW3LvvAA6+3VhevruW3Lve9Q8+JwdlvruW3LuURwk+OBJjvruW3LvvAA4+JwdlPruW3LuURwk+3VhePruW3Lve9Q8+OBJjPruW3LvvAA4+3VhePruW3Lve9Q++JwdlPruW3LuURwm+OBJjPruW3LvvAA6+")
}]
blend_shape_mode = 0

[sub_resource type="ArrayMesh" id="ArrayMesh_ktqgu"]
resource_name = "keycard_keycard"
_surfaces = [{
"aabb": AABB(-0.22366, -0.00673184, -0.140586, 0.44732, 0.0015532, 0.281173),
"attribute_data": PackedByteArray("AAAAAFMPej8AAAAAUw96P4D2bjwAAIA/lPZuPAAAgD92pLo6iWt/P3akujqJa38/JkR8PwAAgD8mRHw/AACAPwAAgD9TD3o/AACAP1MPej+uon8/iWt/P66ifz+Ja38/lPZuPAAAAACA9m48AAAAAAAAAACgFb48AAAAAKAVvjx2pLo6AHgUO3akujoAeBQ7AACAP6AVvjwAAIA/oBW+PCZEfD8AAAAAJkR8PwAAAACuon8/AHYUO66ifz8AdhQ7AAAAAKAVvjwAAAAAUg96P4D2bjwAAAAAkvZuPP//fz8AAAAAAAAAAFf7izuZQn4/lPZuPAAAgD9+9m48AAAAAAAAAABTD3o/AAAAAKAVvjwAAAAAAACAP1f7izsAs947/v9/P8AVvjwAAIA/Uw96PyREfD8AAIAzJkR8PwAAgD8G6H4/gLPeOwAAgD8AAIA/JER8PwAAgD8mRHw/AAAAAP7/fz9TD3o/AACAP6AVvjwH6H4/mkJ+PwAAgD8AAAAAAAAAAFMPej8AAIA/Uw96PwAAAACgFb48AACAP6AVvjyU9m48AACAPyZEfD8AAAAA"),
"format": 34359742487,
"index_count": 132,
"index_data": PackedByteArray("AgAnAB4AAgAHACcAJgAjAB8AIwAZACEAGQAbAB0AGwAuACoALgAkACwAJAAmACgAJgAZACMAGQAuABsALgAmACQAGQAmAC4ACQAtACUACQATAC0AFQAaACsAFQAMABoADwAFAAEABQAGAAMABgAIAAoACAAWABIAFgANABQADQAPABEADwAGAAUABgAWAAgAFgAPAA0ABgAPABYADAAcABoADAAQABwAEAAYABwAEAAOABgAKwAXABUAKwAvABcALwATABcALwAtABMABwApACcABwALACkACwAlACkACwAJACUAHgAEAAIAHgAiAAQAIgAAAAQAIgAgAAAADgAgABgADgAAACAA"),
"lods": [0.00207421, PackedByteArray("AgAnADQAAgAHACcABwAxACcANAAwAAIANAAgADAADgAwACAADgAgABoACQAtACcACQAzAC0ANQAtADMANQAzABUAFQAaADUAFQAMABoADAAyABoAHwAbACEAJgAbAB8AGwAmACoAKgAmACwAAQAGAAMADwAGAAEABgAPABIABgASAAgAEgAPAA0AEgANABQA"), 0.0121119, PackedByteArray("BwAlAB4ABwATACUAHgAAAAcAKwAlABMAHgAYAAAAKwATAAwADAAAABgADAAYACsAJAAZAB8AGQAkACoADQAGAAEABgANABIA")],
"material": SubResource("StandardMaterial3D_37krb"),
"primitive": 3,
"uv_scale": Vector4(0, 0, 0, 0),
"vertex_count": 54,
"vertex_data": PackedByteArray("JwdlvnYFqruURwk+JwdlvnYFqruURwk+3VhevnYFqrve9Q8+3VhevnYFqrve9Q8+OBJjvnYFqrvvAA4+OBJjvnYFqrvvAA4+3VhePnYFqrve9Q8+3VhePnYFqrve9Q8+JwdlPnYFqruURwk+JwdlPnYFqruURwk+OBJjPnYFqrvvAA4+OBJjPnYFqrvvAA4+3VhevnYFqrve9Q++3VhevnYFqrve9Q++JwdlvnYFqruURwm+JwdlvnYFqruURwm+OBJjvnYFqrvvAA6+OBJjvnYFqrvvAA6+JwdlPnYFqruURwm+JwdlPnYFqruURwm+3VhePnYFqrve9Q++3VhePnYFqrve9Q++OBJjPnYFqrvvAA6+OBJjPnYFqrvvAA6+JwdlvruW3LuURwm+JwdlvruW3LuURwm+3VhevruW3Lve9Q++3VhevruW3Lve9Q++OBJjvruW3LvvAA6+OBJjvruW3LvvAA6+3VhevruW3Lve9Q8+3VhevruW3Lve9Q8+JwdlvruW3LuURwk+JwdlvruW3LuURwk+OBJjvruW3LvvAA4+OBJjvruW3LvvAA4+JwdlPruW3LuURwk+JwdlPruW3LuURwk+3VhePruW3Lve9Q8+3VhePruW3Lve9Q8+OBJjPruW3LvvAA4+OBJjPruW3LvvAA4+3VhePruW3Lve9Q++3VhePruW3Lve9Q++JwdlPruW3LuURwm+JwdlPruW3LuURwm+OBJjPruW3LvvAA6+OBJjPruW3LvvAA6+JwdlvnYFqruURwk+JwdlPnYFqruURwk+JwdlvnYFqruURwm+JwdlPnYFqruURwm+3VhevruW3Lve9Q8+3VhePruW3Lve9Q++PBX/fxuGlu3/f/////+Y2cJq/3//f/5//3///////7//P/9/vadB2P9//////1rF/3//////qsI8lf9/8uQYqv9//////wHDwur/f////z//f/////+Gz/+//395zV2TAADC6vLk5dX/f/////+KwgAAPJX///+//3//////oMIAAP+/ec2g7P9//////4bP/3//////mNn//zyVG4Znkv9///////+////C6v///7//f/////9cxf///7+9p72nAAA8lS2iKf3/fwAA/v//vwAAwur///+//38AAP7//78AAP+/+cWA7v9/AAD+//+/wmr/f8Lq/7//fwAA////vzwV/3////8//38AAP7//7//P/9/xKw50/9/AAD+//+//38AAP7//7/C6v9/LaLVgv9/AAD+//+/PJX/f////z//fwAA/v//v/+//3/5xX6R/38AAP///7///8Lqwur/v/9/AAD+//+///88lf///7//fwAA/v//v////7/ErMSsXiz/fxuGlu3ZuP9/////PwAAUMT///+////5rRuGZ5LRUf9/wur/v///G9jC6v+/")
}]
blend_shape_mode = 0
shadow_mesh = SubResource("ArrayMesh_ewt2n")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_y17ht"]
albedo_texture = ExtResource("4_uh8r8")

[node name="Rope" type="Node3D"]
script = ExtResource("1_sspj5")

[node name="TopBody" type="RigidBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2.18421, 0)
collision_layer = 128
axis_lock_linear_x = true
axis_lock_linear_y = true
axis_lock_linear_z = true
gravity_scale = 0.0

[node name="CollisionShape3D" type="CollisionShape3D" parent="TopBody"]
shape = SubResource("CapsuleShape3D_hdfu2")

[node name="MeshInstance3D" type="MeshInstance3D" parent="TopBody"]
transform = Transform3D(0.0678102, 0, 0, 0, 0.0678102, 0, 0, 0, 0.0678102, 0, 0, 0)
visible = false
mesh = SubResource("CapsuleMesh_pa4bi")

[node name="chainLink" parent="TopBody" instance=ExtResource("2_vmag6")]
transform = Transform3D(0.0605655, 0, 0, 0, 0.0605655, 0, 0, 0, 0.0605655, 0, 0, 0)

[node name="PinJoint3D2" type="PinJoint3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2.07824, 0)
node_a = NodePath("../TopBody")
node_b = NodePath("../Body1")

[node name="Body1" type="RigidBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2.01891, 0)
collision_layer = 128
axis_lock_linear_x = true
axis_lock_linear_y = true
axis_lock_linear_z = true
gravity_scale = 0.0

[node name="CollisionShape3D" type="CollisionShape3D" parent="Body1"]
shape = SubResource("CapsuleShape3D_hdfu2")

[node name="MeshInstance3D" type="MeshInstance3D" parent="Body1"]
transform = Transform3D(0.0678102, 0, 0, 0, 0.0678102, 0, 0, 0, 0.0678102, 0, 0, 0)
visible = false
mesh = SubResource("CapsuleMesh_pa4bi")

[node name="chainLink2" parent="Body1" instance=ExtResource("2_vmag6")]
transform = Transform3D(0.0605655, 0, 0, 0, 0.0605655, 0, 0, 0, 0.0605655, 0, -0.0286136, 0)

[node name="PinJoint3D3" type="PinJoint3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.86757, 0)
node_a = NodePath("../Body1")
node_b = NodePath("../Body2")

[node name="Body2" type="RigidBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.86547, 0)
collision_layer = 128

[node name="CollisionShape3D" type="CollisionShape3D" parent="Body2"]
shape = SubResource("CapsuleShape3D_hdfu2")

[node name="MeshInstance3D" type="MeshInstance3D" parent="Body2"]
transform = Transform3D(0.0669139, 0, 0, 0, 0.0669139, 0, 0, 0, 0.0669139, 0, 0, 0)
visible = false
mesh = SubResource("CapsuleMesh_pa4bi")

[node name="chainLink3" parent="Body2" instance=ExtResource("2_vmag6")]
transform = Transform3D(0.0605655, 0, 0, 0, 0.0605655, 0, 0, 0, 0.0605655, 0, -0.0554248, 0)

[node name="PinJoint3D4" type="PinJoint3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.73254, 0)
node_a = NodePath("../Body2")
node_b = NodePath("../Body3")

[node name="Body3" type="RigidBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.00198432, 1.72109, 0)
collision_layer = 128

[node name="CollisionShape3D" type="CollisionShape3D" parent="Body3"]
shape = SubResource("CapsuleShape3D_hdfu2")

[node name="MeshInstance3D" type="MeshInstance3D" parent="Body3"]
transform = Transform3D(0.0669139, 0, 0, 0, 0.0669139, 0, 0, 0, 0.0669139, 0, 0, 0)
visible = false
mesh = SubResource("CapsuleMesh_pa4bi")

[node name="chainLink4" parent="Body3" instance=ExtResource("2_vmag6")]
transform = Transform3D(0.0605655, 0, 0, 0, 0.0605655, 0, 0, 0, 0.0605655, 0, -0.103115, 0)

[node name="PinJoint3D5" type="PinJoint3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.53831, 0)
node_a = NodePath("../Body3")
node_b = NodePath("../Body4")

[node name="Body4" type="RigidBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.000715666, 1.58948, 0)
collision_layer = 128

[node name="CollisionShape3D" type="CollisionShape3D" parent="Body4"]
shape = SubResource("CapsuleShape3D_hdfu2")

[node name="MeshInstance3D" type="MeshInstance3D" parent="Body4"]
transform = Transform3D(0.0669139, 0, 0, 0, 0.0669139, 0, 0, 0, 0.0669139, 0, 0, 0)
visible = false
mesh = SubResource("CapsuleMesh_pa4bi")

[node name="chainLink5" parent="Body4" instance=ExtResource("2_vmag6")]
transform = Transform3D(0.0605655, 0, 0, 0, 0.0605655, 0, 0, 0, 0.0605655, 0, -0.155162, 0)

[node name="PinJoint3D6" type="PinJoint3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.33221, 0)
node_a = NodePath("../Body4")
node_b = NodePath("../Body5")

[node name="Body5" type="RigidBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.00302912, 1.23597, 0)
collision_layer = 128

[node name="CollisionShape3D" type="CollisionShape3D" parent="Body5"]
shape = SubResource("CapsuleShape3D_hdfu2")

[node name="MeshInstance3D" type="MeshInstance3D" parent="Body5"]
transform = Transform3D(0.0669139, 0, 0, 0, 0.0669139, 0, 0, 0, 0.0669139, 0, 0, 0)
visible = false
mesh = SubResource("CapsuleMesh_pa4bi")

[node name="chainLink6" parent="Body5" instance=ExtResource("2_vmag6")]
transform = Transform3D(0.0605655, 0, 0, 0, 0.0605655, 0, 0, 0, 0.0605655, 0, 0, 0)

[node name="PinJoint3D7" type="PinJoint3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.13799, 0)
node_a = NodePath("../Body5")
node_b = NodePath("../Body6")

[node name="Body6" type="RigidBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.00676547, 1.03952, 0)
collision_layer = 128

[node name="CollisionShape3D" type="CollisionShape3D" parent="Body6"]
shape = SubResource("CapsuleShape3D_hdfu2")

[node name="MeshInstance3D" type="MeshInstance3D" parent="Body6"]
transform = Transform3D(0.0669139, 0, 0, 0, 0.0669139, 0, 0, 0, 0.0669139, 0, 0, 0)
visible = false
mesh = SubResource("CapsuleMesh_pa4bi")

[node name="chainLink7" parent="Body6" instance=ExtResource("2_vmag6")]
transform = Transform3D(0.0605655, 0, 0, 0, 0.0605655, 0, 0, 0, 0.0605655, 0, 0, 0)

[node name="CardPin" type="PinJoint3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.919764, 0)
node_a = NodePath("../Body6")
node_b = NodePath("../CardPart")

[node name="CardPart" type="RigidBody3D" parent="." groups=["push_card"]]
unique_name_in_owner = true
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.782853, 0)
collision_layer = 130
collision_mask = 129
script = ExtResource("2_7uen0")

[node name="CollisionShape3D" type="CollisionShape3D" parent="CardPart"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.0188423, 0)
shape = SubResource("BoxShape3D_x8cb2")

[node name="MeshInstance3D" type="MeshInstance3D" parent="CardPart"]
transform = Transform3D(0.00340901, -0.131967, 0, 0.253649, 0.00177362, 0, 0, 0, 0.034284, 0, 0, 0)
visible = false
mesh = SubResource("BoxMesh_75j3m")

[node name="keycard" type="MeshInstance3D" parent="CardPart"]
transform = Transform3D(0.00687473, -0.00323238, -0.42915, -0.507675, 0.000404748, -0.00746287, 0.0117441, 0.0193886, -0.0713902, 0, 0.0191748, 0)
mesh = SubResource("ArrayMesh_ktqgu")
skeleton = NodePath("")
surface_material_override/0 = SubResource("StandardMaterial3D_y17ht")
