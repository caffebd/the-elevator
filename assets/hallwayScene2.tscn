[gd_scene load_steps=32 format=3 uid="uid://ccky6fld3avk1"]

[ext_resource type="Script" path="res://scripts/HallwayArea.gd" id="1_70hd2"]
[ext_resource type="PackedScene" uid="uid://cffgdsansmwm" path="res://assets/elevatorNew/hallway.tscn" id="1_oqa06"]
[ext_resource type="Shader" path="res://assets/chromaticAbberation.gdshader" id="1_vdys4"]
[ext_resource type="PackedScene" uid="uid://f5dbi5rm6a2l" path="res://assets/elevatorNew/exit_sign.tscn" id="2_0enyf"]
[ext_resource type="PackedScene" uid="uid://ctlukj8yc6bqt" path="res://assets/elevatorNew/safe.tscn" id="2_jry6b"]
[ext_resource type="PackedScene" uid="uid://dupi3lsm25xgk" path="res://assets/elevatorNew/exit_door.tscn" id="2_m11ma"]
[ext_resource type="PackedScene" uid="uid://dbiu0qbb5wcxi" path="res://assets/elevatorNew/exit_part.tscn" id="2_nftua"]
[ext_resource type="PackedScene" uid="uid://bt2t5is8752r6" path="res://scenes/emergency_exit_hallway.tscn" id="2_nrqiq"]
[ext_resource type="PackedScene" uid="uid://bw713rlnd42xs" path="res://assets/elevatorNew/fuse_box.tscn" id="2_u0ixm"]
[ext_resource type="PackedScene" uid="uid://6krwobwixs8l" path="res://assets/elevatorNew/elevator_part.tscn" id="3_x8o7b"]
[ext_resource type="PackedScene" uid="uid://dgrtvp0jbijme" path="res://assets/elevatorNew/elevator.tscn" id="4_8f3o6"]
[ext_resource type="PackedScene" uid="uid://cpucufodphld5" path="res://scenes/Player.tscn" id="6_a8yqa"]
[ext_resource type="PackedScene" uid="uid://cieekv3babfha" path="res://assets/elevatorNew/elevatorButtons/button1.tscn" id="13_4lhck"]
[ext_resource type="PackedScene" uid="uid://nlffndwhe6hi" path="res://assets/elevatorNew/elevatorButtons/button2.tscn" id="14_4g1e4"]
[ext_resource type="PackedScene" uid="uid://cwegaudswk1m2" path="res://assets/elevatorNew/elevatorButtons/button3.tscn" id="15_3ymdl"]
[ext_resource type="PackedScene" uid="uid://c46fgl51x0x6p" path="res://assets/elevatorNew/elevatorButtons/button4.tscn" id="16_g0bw0"]
[ext_resource type="PackedScene" uid="uid://c64dxdw7eharp" path="res://assets/elevatorNew/elevatorButtons/button5.tscn" id="17_5k42q"]
[ext_resource type="PackedScene" uid="uid://1lqoh63arycs" path="res://assets/elevatorNew/elevatorButtons/button6.tscn" id="18_6je7a"]
[ext_resource type="PackedScene" uid="uid://b6shh4j4p5aa1" path="res://assets/elevatorNew/elevatorButtons/button7.tscn" id="19_t6omj"]
[ext_resource type="PackedScene" uid="uid://d2eh6hue1s3xp" path="res://assets/elevatorNew/elevatorButtons/button8.tscn" id="20_h3le7"]
[ext_resource type="PackedScene" uid="uid://ckkc3020b4ttd" path="res://assets/elevatorNew/elevatorButtons/buttonAlarm.tscn" id="21_5fpxg"]
[ext_resource type="PackedScene" uid="uid://bpl1u5s6fj5xf" path="res://assets/elevatorNew/elevatorButtons/buttonClose.tscn" id="22_kow8l"]
[ext_resource type="PackedScene" uid="uid://bci101o8cculh" path="res://assets/elevatorNew/elevator_button_panel.tscn" id="24_y3b4p"]
[ext_resource type="PackedScene" uid="uid://b4hte8v7fpq7o" path="res://assets/elevatorNew/elevatorButtons/buttonOpen.tscn" id="24_y6tx0"]
[ext_resource type="PackedScene" uid="uid://lsdkxs60ecih" path="res://assets/elevatorNew/hallway_button_panel.tscn" id="25_8mkdy"]
[ext_resource type="PackedScene" uid="uid://c0sj1iwmqhlvq" path="res://assets/elevatorNew/elevatorButtons/buttonDown.tscn" id="26_sda5l"]
[ext_resource type="PackedScene" uid="uid://bmtsnt6u41a4k" path="res://assets/elevatorNew/elevatorButtons/buttonUp.tscn" id="27_qqtlc"]

[sub_resource type="Environment" id="Environment_5wx5y"]
background_mode = 1
ambient_light_source = 2
ambient_light_color = Color(0.0475577, 0.0475576, 0.0475576, 1)
tonemap_mode = 3
glow_intensity = 0.21
glow_strength = 1.55
fog_enabled = true
fog_mode = 1
fog_light_color = Color(0, 0, 0, 1)
fog_light_energy = 0.0
fog_density = 6.0
fog_depth_begin = 0.0
fog_depth_end = 83.0

[sub_resource type="ShaderMaterial" id="ShaderMaterial_erh00"]
shader = ExtResource("1_vdys4")
shader_parameter/r_displacement = Vector2(3, 0)
shader_parameter/g_displacement = Vector2(0, 0)
shader_parameter/b_displacement = Vector2(-3, 0)

[sub_resource type="BoxShape3D" id="BoxShape3D_m6awe"]
size = Vector3(0.075, 1, 2.89)

[sub_resource type="BoxShape3D" id="BoxShape3D_lmq05"]
size = Vector3(0.275, 0.735, 1.905)

[node name="MainHallway" type="Node3D"]
script = ExtResource("1_70hd2")

[node name="fuseBox" parent="." instance=ExtResource("2_u0ixm")]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -7.49272, -0.180894, 2.78843)

[node name="exitSign2" parent="." instance=ExtResource("2_0enyf")]
transform = Transform3D(-4.09449e-08, 0.93671, 0, -0.93671, -4.09449e-08, 0, 0, 0, 0.93671, -39.0334, 1.02526, 0)

[node name="exitDoor" parent="." instance=ExtResource("2_m11ma")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -39.1634, -0.461829, 0.55091)

[node name="exitPart" parent="." instance=ExtResource("2_nftua")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -36.8596, 0, 0)

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_5wx5y")

[node name="ColorRect" type="ColorRect" parent="."]
visible = false
material = SubResource("ShaderMaterial_erh00")
offset_left = -220.0
offset_top = -104.0
offset_right = 2240.0
offset_bottom = 1192.0

[node name="Player" parent="." node_paths=PackedStringArray("attack_marker") instance=ExtResource("6_a8yqa")]
transform = Transform3D(-0.996348, 0, -0.0853822, 0, 1, 0, 0.0853822, 0, -0.996348, 9.36663, -0.467435, -0.529216)
attack_marker = NodePath("AttackMarker")

[node name="Reset" type="Area3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 11.4528, -0.636, 0.0586653)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Reset"]
shape = SubResource("BoxShape3D_m6awe")

[node name="ResetPos" type="Marker3D" parent="."]
unique_name_in_owner = true
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 6.34077, -1.05787, -0.215217)

[node name="ElevatorTrigger" type="Area3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2.54103, -0.483876, -0.097915)

[node name="CollisionShape3D" type="CollisionShape3D" parent="ElevatorTrigger"]
shape = SubResource("BoxShape3D_lmq05")

[node name="hallway2" parent="." instance=ExtResource("1_oqa06")]

[node name="hallway3" parent="." instance=ExtResource("1_oqa06")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -9.273, 0, 0)

[node name="hallway4" parent="." instance=ExtResource("1_oqa06")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -13.864, 0, 0)

[node name="hallway5" parent="." instance=ExtResource("1_oqa06")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -18.4616, 0, 0)

[node name="hallway6" parent="." instance=ExtResource("1_oqa06")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -23.0526, 0, 0)

[node name="hallway7" parent="." instance=ExtResource("1_oqa06")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -27.6335, 0, 0)

[node name="HideHallway2" type="Node3D" parent="."]
unique_name_in_owner = true

[node name="hallway10" parent="HideHallway2" instance=ExtResource("1_oqa06")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 13.7544, 0, 0)

[node name="hallway11" parent="HideHallway2" instance=ExtResource("1_oqa06")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 9.1634, 0, 0)

[node name="hallway12" parent="HideHallway2" instance=ExtResource("1_oqa06")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4.5825, 0, 0)

[node name="hallway13" parent="." instance=ExtResource("1_oqa06")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 36.6541, 0, 0)
visible = false

[node name="hallway14" parent="." instance=ExtResource("1_oqa06")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 32.0565, 0, 0)
visible = false

[node name="HideHallway" type="Node3D" parent="."]
unique_name_in_owner = true

[node name="hallway15" parent="HideHallway" instance=ExtResource("1_oqa06")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 27.4655, 0, 0)

[node name="hallway16" parent="HideHallway" instance=ExtResource("1_oqa06")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 22.8846, 0, 0)

[node name="hallway17" parent="HideHallway" instance=ExtResource("1_oqa06")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 18.352, 0, 0)

[node name="hallway8" parent="." instance=ExtResource("1_oqa06")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -32.2246, 0, 0)

[node name="EmergencyExitHallway" parent="." instance=ExtResource("2_nrqiq")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -36.8591, 1.19209e-07, 0)
visible = false

[node name="elevatorPart" parent="." instance=ExtResource("3_x8o7b")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -4.638, 0, 0)

[node name="elevator" parent="." instance=ExtResource("4_8f3o6")]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -4.637, 0, 3.0601)

[node name="safes" type="Node3D" parent="."]

[node name="safe" parent="safes" instance=ExtResource("2_jry6b")]
transform = Transform3D(-4.15884e-08, 0, 0.951432, 0, 0.951432, 0, -0.951432, 0, -4.15884e-08, -5.15695, -0.923916, 5.9912)

[node name="safe2" parent="safes" instance=ExtResource("2_jry6b")]
transform = Transform3D(-4.15884e-08, 0, 0.951432, 0, 0.951432, 0, -0.951432, 0, -4.15884e-08, -4.72026, -0.923916, 5.9912)

[node name="safe3" parent="safes" instance=ExtResource("2_jry6b")]
transform = Transform3D(-4.15884e-08, 0, 0.951432, 0, 0.951432, 0, -0.951432, 0, -4.15884e-08, -4.28379, -0.923916, 5.9912)

[node name="safe4" parent="safes" instance=ExtResource("2_jry6b")]
transform = Transform3D(-4.15884e-08, 0, 0.951432, 0, 0.951432, 0, -0.951432, 0, -4.15884e-08, -3.84711, -0.923916, 5.9912)

[node name="safe5" parent="safes" instance=ExtResource("2_jry6b")]
transform = Transform3D(-4.15884e-08, 0, 0.951432, 0, 0.951432, 0, -0.951432, 0, -4.15884e-08, -5.15695, -1.36058, 5.9912)

[node name="safe6" parent="safes" instance=ExtResource("2_jry6b")]
transform = Transform3D(-4.15884e-08, 0, 0.951432, 0, 0.951432, 0, -0.951432, 0, -4.15884e-08, -4.72026, -1.36058, 5.9912)

[node name="safe7" parent="safes" instance=ExtResource("2_jry6b")]
transform = Transform3D(-4.15884e-08, 0, 0.951432, 0, 0.951432, 0, -0.951432, 0, -4.15884e-08, -4.28379, -1.36058, 5.9912)

[node name="safe8" parent="safes" instance=ExtResource("2_jry6b")]
transform = Transform3D(-4.15884e-08, 0, 0.951432, 0, 0.951432, 0, -0.951432, 0, -4.15884e-08, -3.84711, -1.36058, 5.9912)

[node name="safe9" parent="safes" instance=ExtResource("2_jry6b")]
transform = Transform3D(-4.15884e-08, 0, 0.951432, 0, 0.951432, 0, -0.951432, 0, -4.15884e-08, -5.15695, -0.0519519, 5.9912)

[node name="safe10" parent="safes" instance=ExtResource("2_jry6b")]
transform = Transform3D(-4.15884e-08, 0, 0.951432, 0, 0.951432, 0, -0.951432, 0, -4.15884e-08, -4.72026, -0.0519519, 5.9912)

[node name="safe11" parent="safes" instance=ExtResource("2_jry6b")]
transform = Transform3D(-4.15884e-08, 0, 0.951432, 0, 0.951432, 0, -0.951432, 0, -4.15884e-08, -4.28379, -0.0519519, 5.9912)

[node name="safe12" parent="safes" instance=ExtResource("2_jry6b")]
transform = Transform3D(-4.15884e-08, 0, 0.951432, 0, 0.951432, 0, -0.951432, 0, -4.15884e-08, -3.84711, -0.0519519, 5.9912)

[node name="safe13" parent="safes" instance=ExtResource("2_jry6b")]
transform = Transform3D(-4.15884e-08, 0, 0.951432, 0, 0.951432, 0, -0.951432, 0, -4.15884e-08, -5.15695, -0.488619, 5.9912)

[node name="safe14" parent="safes" instance=ExtResource("2_jry6b")]
transform = Transform3D(-4.15884e-08, 0, 0.951432, 0, 0.951432, 0, -0.951432, 0, -4.15884e-08, -4.72026, -0.488619, 5.9912)

[node name="safe15" parent="safes" instance=ExtResource("2_jry6b")]
transform = Transform3D(-4.15884e-08, 0, 0.951432, 0, 0.951432, 0, -0.951432, 0, -4.15884e-08, -4.28379, -0.488619, 5.9912)

[node name="safe16" parent="safes" instance=ExtResource("2_jry6b")]
transform = Transform3D(-4.15884e-08, 0, 0.951432, 0, 0.951432, 0, -0.951432, 0, -4.15884e-08, -3.84711, -0.488619, 5.9912)

[node name="elevatorButtons" type="Node3D" parent="."]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -2.61704, -0.342518, 1.56464)

[node name="button" parent="elevatorButtons" instance=ExtResource("13_4lhck")]

[node name="button2" parent="elevatorButtons" instance=ExtResource("14_4g1e4")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0.068984)

[node name="button3" parent="elevatorButtons" instance=ExtResource("15_3ymdl")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.0698446, 0)

[node name="button4" parent="elevatorButtons" instance=ExtResource("16_g0bw0")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.0702225, 0.068984)

[node name="button5" parent="elevatorButtons" instance=ExtResource("17_5k42q")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.139575, 0)

[node name="button6" parent="elevatorButtons" instance=ExtResource("18_6je7a")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.138888, 0.068984)

[node name="button7" parent="elevatorButtons" instance=ExtResource("19_t6omj")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.211301, 0)

[node name="button8" parent="elevatorButtons" instance=ExtResource("20_h3le7")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.213198, 0.068984)

[node name="button10" parent="elevatorButtons" instance=ExtResource("21_5fpxg")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.127786, 0.037674)

[node name="button11" parent="elevatorButtons" instance=ExtResource("22_kow8l")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.0669701, 0.0730877)

[node name="button13" parent="elevatorButtons" instance=ExtResource("24_y6tx0")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.0669701, 0)

[node name="elevatorButtonPanel2" parent="elevatorButtons" instance=ExtResource("24_y3b4p")]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 0, -0.0307172, 0.0365903)

[node name="hallwayButtons" type="Node3D" parent="."]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, -6.07856, -0.530423, 1.0177)

[node name="hallwayButtonPanel2" parent="hallwayButtons" instance=ExtResource("25_8mkdy")]

[node name="button" parent="hallwayButtons" instance=ExtResource("26_sda5l")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.00418139, -0.0591901, 0)

[node name="button2" parent="hallwayButtons" instance=ExtResource("27_qqtlc")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.00418139, 0.067605, 0)

[connection signal="body_entered" from="Reset" to="." method="_on_reset_body_entered"]
[connection signal="body_entered" from="ElevatorTrigger" to="elevator" method="_on_elevator_trigger_body_entered"]
[connection signal="body_exited" from="ElevatorTrigger" to="." method="_on_elevator_trigger_body_exited"]
